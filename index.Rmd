---
title: '"Análisis de la Supervivencia en el Titanic: El Impacto del Género y la Edad"'
subtitle: "Un Estudio Estadístico Descriptivo de los Patrones de Supervivencia"
author: "Anyimar Castillo y Gabriel Gonzalez"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
    theme: united
    highlight: tango
    code_folding: "hide"
    df_print: paged
editor_options: 
  markdown: 
    wrap: 72
---


```{r setup}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```

# Introduccion

El Titanic, el barco más lujoso de su época, se hundió en su viaje
inaugural desde Southampton a Nueva York. La noche del 14 de abril de
1912, chocó contra un iceberg en el Atlántico Norte. En apenas unas
horas, la nave se partió y se hundió en las heladas aguas. De las
aproximadamente 2,224 personas a bordo, más de 1,500 perdieron la vida,
en una de las mayores tragedias marítima. La escasez de botes
salvavidas, insuficientes para todos los pasajeros, fue un factor
crucial en la alta mortalidad. Existió un protocolo no escrito de
"mujeres y niños primero", pero si este se aplicó de manera efectiva es
una de las preguntas clave que busca responder esta investigación. La
tragedia conmocionó al mundo y provocó una revisión total de los
reglamentos de seguridad marítima. Su legado perdura en la cultura
popular, simbolizando los límites de la tecnología frente a la
naturaleza.

# Planteamiento de la Investigación

## 1. Planteamiento del Problema

El naufragio del Titanic reveló importantes discrepancias en los
protocolos de salvamento, donde factores como el género y la edad
pudieron influir en las oportunidades de supervivencia. Por ejemplo,
existió la política de "mujeres y niños primero", a partir de una
muestra representativa de pasajeros, esta investigación busca responder
preguntas cruciales como: ¿Realmente se privilegió la supervivencia
femenina sobre la masculina? ¿Los niños y adultos mayores tuvieron
prioridad real en el rescate? ¿Cómo se distribuyeron las edades entre
supervivientes y no supervivientes? ¿Existieron diferencias
significativas en la composición demográfica entre ambos grupos?

Este estudio se centra exclusivamente en analizar la relación entre
variables sexo y edad con la supervivencia en el hundimiento del
Titanic. Mediante análisis estadístico descriptivo y comparativo, se
examinarán los patrones de supervivencia desagregados por género y
grupos etarios, con el objetivo de determinar si existió un perfil
demográfico característico entre los sobrevivientes.

La investigación aportará evidencia concreta sobre la aplicación real de
los protocolos de salvamento y el papel que jugaron el género y la edad
como factores determinantes en la supervivencia durante una de las
mayores tragedias marítimas de la historia.

## 2. Objetivo

### 2.1 Objetivo General

Analizar la influencia del sexo y la edad en la supervivencia de los
pasajeros del Titanic.

### 2.2 Objetivo Especifico 

-   Determinar la tasa de supervivencia global por sexo (hombres vs.
    mujeres).
-   Identificar la distribución de edades entre supervivientes y no
    supervivientes.
-   Clasificar a los pasajeros en rangos etarios (niños, adultos,
    adultos mayores) y evaluar su supervivencia.
-   Establecer si existió un patrón de preferencia por algún grupo
    demográfico (mujeres y niños).

## 3. Justificación

El análisis de sexo y edad en contextos de desastre es crucial para
entender las dinámicas sociales y los sesgos en protocolos de
emergencia. En el caso del Titanic, este enfoque permite verificar la
aplicación real de la norma no escrita de "mujeres y niños primero".
Desde una perspectiva formativa, trabajar con estas variables ofrece una
base clara para practicar análisis univariantes y bivariantes, útiles en
estadística descriptiva y ciencias sociales.

```{r Cargar Paquetes , include=FALSE}

# Cargar librerías

if(!require(tidyverse)) install.packages("tidyverse")
if(!require(ggplot2)) install.packages("ggplot2")
if(!require(kableExtra)) install.packages("kableExtra")

library(tidyverse)
library(ggplot2)
library(kableExtra)

```

```{r Carga y Exploración de Datos}

# Cargar dataset del Titanic
titanic_data <- read.csv("https://raw.githubusercontent.com/gabrielgonzalezalfredo093-beep/Repositorio-Titanic-Dataset/refs/heads/main/Titanic-Dataset.csv", stringsAsFactors = FALSE)
                          

# Ver estructura inicial
cat("Dimensiones del dataset:", dim(titanic_data), "\n")
cat("Variables disponibles:", names(titanic_data), "\n\n")

# Mostrar primeras filas
head(titanic_data) %>% kable() %>% kable_styling(bootstrap_options = "striped")

# Información básica del dataset
str(titanic_data)
summary(titanic_data)

```

```{r Preprocesamiento y Limpieza}

# Crear copia del dataset para análisis
df <- titanic_data

# Renombrar variables en español
df <- df %>%
  rename(
    Sobrevivio = Survived,
    Sexo = Sex,
    Edad = Age,
    Clase = Pclass
  )

# Convertir variables categóricas
df <- df %>%
  mutate(
    Sobrevivio = factor(Sobrevivio, levels = c(0, 1), labels = c("No", "Sí")),
    Sexo = factor(Sexo, levels = c("male", "female"), labels = c("Hombre", "Mujer")),
    Clase = factor(Clase, levels = c(1, 2, 3), labels = c("Primera", "Segunda", "Tercera"))
  )

# Crear grupos etarios
df <- df %>%
  mutate(
    Grupo_Edad = case_when(
      Edad < 12 ~ "Niño (0-11)",
      Edad >= 12 & Edad < 18 ~ "Adolescente (12-17)",
      Edad >= 18 & Edad < 60 ~ "Adulto (18-59)",
      Edad >= 60 ~ "Adulto Mayor (60+)",
      is.na(Edad) ~ "Edad Desconocida"
    ),
    Grupo_Edad = factor(Grupo_Edad, 
                       levels = c("Niño (0-11)", "Adolescente (12-17)", "Adulto (18-59)", 
                                 "Adulto Mayor (60+)", "Edad Desconocida"))
  )

# Verificar transformaciones
cat("Resumen después del preprocesamiento:\n")
table(df$Sobrevivio) %>% kable() %>% kable_styling()

```

```{r Análisis Descriptivo Univariante Variable: Supervivencia }

# Análisis de supervivencia global
superv_global <- df %>%
  count(Sobrevivio) %>%
  mutate(Porcentaje = round(n/sum(n)*100, 2))

cat("Distribución de Supervivencia Global:\n")
superv_global %>% kable() %>% kable_styling()

# Gráfico de supervivencia global
ggplot(superv_global, aes(x = Sobrevivio, y = n, fill = Sobrevivio)) +
  geom_bar(stat = "identity") +
  geom_text(aes(label = paste0(n, " (", Porcentaje, "%)")), vjust = -0.5) +
  labs(title = "Distribución de Supervivencia en el Titanic",
       x = "Sobrevivió", y = "Número de Pasajeros") +
  theme_minimal() +
  scale_fill_manual(values = c("No" = "#e74c3c", "Sí" = "#2ecc71"))

```

```{r Análisis Descriptivo Univariante Variable: Sexo }

# Análisis de distribución por sexo
dist_sexo <- df %>%
  count(Sexo) %>%
  mutate(Porcentaje = round(n/sum(n)*100, 2))

cat("Distribución por Sexo:\n")
dist_sexo %>% kable() %>% kable_styling()

# Gráfico de distribución por sexo
ggplot(dist_sexo, aes(x = Sexo, y = n, fill = Sexo)) +
  geom_bar(stat = "identity") +
  geom_text(aes(label = paste0(n, " (", Porcentaje, "%)")), vjust = -0.5) +
  labs(title = "Distribución de Pasajeros por Sexo",
       x = "Sexo", y = "Número de Pasajeros") +
  theme_minimal() +
  scale_fill_manual(values = c("Hombre" = "#3498db", "Mujer" = "#e91e63"))


```